/*!
Pikaday 2 - 1.3.4
Copyright (c) 2014 David Bushell
Copyright (c) 2015 Nathan Cahill
BSD & MIT license
https://github.com/nathancahill/Pikaday2
*/
!function(){"use strict";function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var b=function(a){return/Array/.test(Object.prototype.toString.call(a))},c=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},d=function C(a,d,e){var f=void 0,g=void 0;for(f in d)g=void 0!==a[f],g&&"object"==typeof d[f]&&null!==d[f]&&void 0===d[f].nodeName?c(d[f])?e&&(a[f]=new Date(d[f].getTime())):b(d[f])?e&&(a[f]=d[f].slice(0)):a[f]=C({},d[f],e):(e||!g)&&(a[f]=d[f]);return a},e=!!window.addEventListener,f=function(a,b,c,d){e?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c)},g=function(a,b,c,d){e?a.removeEventListener(b,c,!!d):a.detachEvent("on"+b,c)},h=function(a,b,c){var e=void 0;window.document.createEvent?(e=window.document.createEvent("HTMLEvents"),e.initEvent(b,!0,!1),e=d(e,c),a.dispatchEvent(e)):window.document.createEventObject&&(e=window.document.createEventObject(),e=d(e,c),a.fireEvent("on"+b,e))},i=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},j=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},k=function(a,b){j(a,b)||(a.className=""===a.className?b:a.className+" "+b)},l=function(a,b){a.className=i((" "+a.className+" ").replace(" "+b+" "," "))},m=function(a){var b=a.getDay();return 0===b||6===b},n=function(a){return a%4===0&&a%100!==0||a%400===0},o=function(a,b){return[31,n(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},p=function(a){c(a)&&a.setHours(0,0,0,0)},q=function(a,b){return a.getTime()===b.getTime()},r=function(a){return a.month<0&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12),a.month>11&&(a.year+=Math.floor(Math.abs(a.month)/12),a.month-=12),a},s=function(a,b,c){for(b+=a.firstDay;b>=7;)b-=7;return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},t=function(a){if(a.isEmpty)return'<td class="is-empty"></td>';var b=[];return a.isDisabled&&b.push("is-disabled"),a.isToday&&b.push("is-today"),a.isSelected&&b.push("is-selected"),a.isInRange&&b.push("is-inrange"),a.isStartRange&&b.push("is-startrange"),a.isEndRange&&b.push("is-endrange"),'<td data-day="'+a.day+'" class="'+b.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+a.year+'" data-pika-month="'+a.month+'" data-pika-day="'+a.day+'">'+a.day+"</button></td>"},u=function(a,b,c){var d=new Date(c,0,1),e=Math.ceil(((new Date(c,b,a)-d)/864e5+d.getDay()+1)/7);return'<td class="pika-week">'+e+"</td>"},v=function(a,b){return"<tr>"+(b?a.reverse():a).join("")+"</tr>"},w=function(a){return"<tbody>"+a.join("")+"</tbody>"},x=function(a){var b=void 0,c=[];for(a.showWeekNumber&&c.push("<th></th>"),b=0;7>b;b++)c.push('<th scope="col"><abbr title="'+s(a,b)+'">'+s(a,b,!0)+"</abbr></th>");return"<thead>"+(a.isRTL?c.reverse():c).join("")+"</thead>"},y=function(a,c,d,e,f){var g=void 0,h=void 0,i=void 0,j=a.options,k=d===j.minYear,l=d===j.maxYear,m='<div class="pika-title">',n=void 0,o=void 0,p=!0,q=!0;for(i=[],g=0;12>g;g++)i.push('<option value="'+(d===f?g-c:12+g-c)+'"'+(g===e?" selected":"")+(k&&g<j.minMonth||l&&g>j.maxMonth?"disabled":"")+">"+j.i18n.months[g]+"</option>");for(n='<div class="pika-label">'+j.i18n.months[e]+'<select class="pika-select pika-select-month" tabindex="-1">'+i.join("")+"</select></div>",b(j.yearRange)?(g=j.yearRange[0],h=j.yearRange[1]+1):(g=d-j.yearRange,h=1+d+j.yearRange),i=[];h>g&&g<=j.maxYear;g++)g>=j.minYear&&i.push('<option value="'+g+'"'+(g===d?" selected":"")+">"+g+"</option>");return o='<div class="pika-label">'+d+j.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+i.join("")+"</select></div>",m+=j.showMonthAfterYear?o+n:n+o,k&&(0===e||j.minMonth>=e)&&(p=!1),l&&(11===e||j.maxMonth<=e)&&(q=!1),0===c&&(m+='<button class="pika-prev'+(p?"":" is-disabled")+'" type="button">'+j.i18n.previousMonth+"</button>"),c===a.options.numberOfMonths-1&&(m+='<button class="pika-next'+(q?"":" is-disabled")+'" type="button">'+j.i18n.nextMonth+"</button>"),m+="</div>"},z=function(a,b){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+x(a)+w(b)+"</table>"},A="function"==typeof moment,B=function D(i){var n=this;a(this,D),this.config=function(a){n.options||(n.options=d({},D.defaults,!0));var e=d(n.options,a,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var f=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=f>4?4:f,c(e.minDate)||(e.minDate=!1),c(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&n.setMinDate(e.minDate),e.maxDate&&n.setMaxDate(e.maxDate),b(e.yearRange)){var g=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||g,e.yearRange[1]=parseInt(e.yearRange[1],10)||g}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||defaults.yearRange,e.yearRange>100&&(e.yearRange=100);return e},this.toString=function(a){return c(n._d)?A?moment(n._d).format(a||n.options.format):n._d.toDateString():""},this.getMoment=function(){return A?moment(n._d):null},this.setMoment=function(a,b){A&&moment.isMoment(a)&&n.setDate(a.toDate(),b)},this.getDate=function(){return c(n._d)?new Date(n._d.getTime()):null},this.setDate=function(a,b){if(!a)return n._d=null,n.options.field&&(n.options.field.value="",h(n.options.field,"change",{firedBy:n})),n.draw();if("string"==typeof a&&(a=new Date(Date.parse(a))),c(a)){var d=n.options.minDate,e=n.options.maxDate;c(d)&&d>a?a=d:c(e)&&a>e&&(a=e),n._d=new Date(a.getTime()),p(n._d),n.gotoDate(n._d),n.options.field&&(n.options.field.value=n.toString(),h(n.options.field,"change",{firedBy:n})),b||"function"!=typeof n.options.onSelect||n.options.onSelect.call(n,n.getDate())}},this.gotoDate=function(a){var b=!0;if(c(a)){if(n.calendars){var d=new Date(n.calendars[0].year,n.calendars[0].month,1),e=new Date(n.calendars[n.calendars.length-1].year,n.calendars[n.calendars.length-1].month,1),f=a.getTime();e.setMonth(e.getMonth()+1),e.setDate(e.getDate()-1),b=f<d.getTime()||e.getTime()<f}b&&(n.calendars=[{month:a.getMonth(),year:a.getFullYear()}],"right"===n.options.mainCalendar&&(n.calendars[0].month+=1-n.options.numberOfMonths)),n.adjustCalendars()}},this.adjustCalendars=function(){n.calendars[0]=r(n.calendars[0]);for(var a=1;a<n.options.numberOfMonths;a++)n.calendars[a]=r({month:n.calendars[0].month+a,year:n.calendars[0].year});n.draw()},this.gotoToday=function(){n.gotoDate(new Date)},this.gotoMonth=function(a){isNaN(a)||(n.calendars[0].month=parseInt(a,10),n.adjustCalendars())},this.nextMonth=function(){n.calendars[0].month++,n.adjustCalendars()},this.prevMonth=function(){n.calendars[0].month--,n.adjustCalendars()},this.gotoYear=function(a){isNaN(a)||(n.calendars[0].year=parseInt(a,10),n.adjustCalendars())},this.setMinDate=function(a){p(a),n.options.minDate=a,n.options.minYear=a.getFullYear(),n.options.minMonth=a.getMonth()},this.setMaxDate=function(a){p(a),n.options.maxDate=a,n.options.maxYear=a.getFullYear(),n.options.maxMonth=a.getMonth()},this.setStartRange=function(a){n.options.startRange=a},this.setEndRange=function(a){n.options.endRange=a},this.draw=function(a){if(n.visible||a){var b=n.options,c=b.minYear,d=b.maxYear,e=b.minMonth,f=b.maxMonth,g="";n._y<=c&&(n._y=c,!isNaN(e)&&n._m<e&&(n._m=e)),n._y>=d&&(n._y=d,!isNaN(f)&&n._m>f&&(n._m=f));for(var h=0;h<b.numberOfMonths;h++)g+='<div class="pika-lendar">'+y(n,h,n.calendars[h].year,n.calendars[h].month,n.calendars[0].year)+n.render(n.calendars[h].year,n.calendars[h].month)+"</div>";n.el.innerHTML=g,b.bound&&"hidden"!==b.field.type&&setTimeout(function(){b.trigger.focus()},1),"function"==typeof n.options.onDraw&&setTimeout(function(){n.options.onDraw.call(n)},0)}},this.adjustPosition=function(){var a=void 0,b=void 0,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=n.options;if(!k.container){if(n.el.style.position="absolute",a=k.trigger,b=a,c=n.el.offsetWidth,d=n.el.offsetHeight,e=window.innerWidth||document.documentElement.clientWidth,f=window.innerHeight||document.documentElement.clientHeight,g=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,"function"==typeof a.getBoundingClientRect)j=a.getBoundingClientRect(),h=j.left+window.pageXOffset,i=j.bottom+window.pageYOffset;else for(h=b.offsetLeft,i=b.offsetTop+b.offsetHeight;b=b.offsetParent;)h+=b.offsetLeft,i+=b.offsetTop;(k.reposition&&h+c>e||k.position.indexOf("right")>-1&&h-c+a.offsetWidth>0)&&(h=h-c+a.offsetWidth),(k.reposition&&i+d>f+g||k.position.indexOf("top")>-1&&i-d-a.offsetHeight>0)&&(i=i-d-a.offsetHeight),n.el.style.left=h+"px",n.el.style.top=i+"px"}},this.render=function(a,b){var d=n.options,e=new Date,f=o(a,b),g=new Date(a,b,1).getDay(),h=[],i=[];p(e),d.firstDay>0&&(g-=d.firstDay,0>g&&(g+=7));for(var j=f+g,k=j;k>7;)k-=7;j+=7-k;for(var l=0,r=0;j>l;l++){var s=new Date(a,b,1+(l-g)),w=c(n._d)?q(s,n._d):!1,x=q(s,e),y=g>l||l>=f+g,A=d.startRange&&q(d.startRange,s),B=d.endRange&&q(d.endRange,s),C=d.startRange&&d.endRange&&d.startRange<s&&s<d.endRange,D=d.minDate&&s<d.minDate||d.maxDate&&s>d.maxDate||d.disableWeekends&&m(s)||d.disableDayFn&&d.disableDayFn(s),E={day:1+(l-g),month:b,year:a,isSelected:w,isToday:x,isDisabled:D,isEmpty:y,isStartRange:A,isEndRange:B,isInRange:C};i.push(t(E)),7===++r&&(d.showWeekNumber&&i.unshift(u(l-g,b,a)),h.push(v(i,d.isRTL)),i=[],r=0)}return z(d,h)},this.isVisible=function(){return n.visible},this.show=function(){n.visible||(l(n.el,"is-hidden"),n.visible=!0,n.draw(),n.options.bound&&(f(document,"click",n._onClick),n.adjustPosition()),"function"==typeof n.options.onOpen&&n.options.onOpen.call(n))},this.hide=function(){var a=n.visible;a!==!1&&(n.options.bound&&g(document,"click",n._onClick),n.el.style.position="static",n.el.style.left="auto",n.el.style.top="auto",k(n.el,"is-hidden"),n.visible=!1,void 0!==a&&"function"==typeof n.options.onClose&&n.options.onClose.call(n))},this.destroy=function(){n.hide(),g(n.el,"mousedown",n._onMouseDown,!0),g(n.el,"touchend",n._onMouseDown,!0),g(n.el,"change",n._onChange),n.options.field&&(g(n.options.field,"change",n._onInputChange),n.options.bound&&(g(n.options.trigger,"click",n._onInputClick),g(n.options.trigger,"focus",n._onInputFocus),g(n.options.trigger,"blur",n._onInputBlur))),n.el.parentNode&&n.el.parentNode.removeChild(n.el)},this._onMouseDown=function(a){if(n.visible){a=a||window.event;var b=a.target||a.srcElement;if(b)if(j(b.parentNode,"is-disabled")||(j(b,"pika-button")&&!j(b,"is-empty")?(n.setDate(new Date(b.getAttribute("data-pika-year"),b.getAttribute("data-pika-month"),b.getAttribute("data-pika-day"))),n.options.bound&&setTimeout(function(){n.hide(),n.options.field&&n.options.field.blur()},100)):j(b,"pika-prev")?n.prevMonth():j(b,"pika-next")&&n.nextMonth()),j(b,"pika-select"))n._c=!0;else{if(!a.preventDefault)return a.returnValue=!1,!1;a.preventDefault()}}},this._onChange=function(a){a=a||window.event;var b=a.target||a.srcElement;b&&(j(b,"pika-select-month")?n.gotoMonth(b.value):j(b,"pika-select-year")&&n.gotoYear(b.value))},this._onInputChange=function(a){var b=void 0;a.firedBy!==n&&(A?(b=moment(n.options.field.value,n.options.format),b=b&&b.isValid()?b.toDate():null):b=new Date(Date.parse(n.options.field.value)),c(b)&&n.setDate(b),n.visible||n.show())},this._onInputFocus=function(){n.show()},this._onInputClick=function(){n.show()},this._onInputBlur=function(){var a=document.activeElement;do if(j(a,"pika-single"))return;while(a=a.parentNode);n._c||(n._b=setTimeout(function(){n.hide()},50)),n._c=!1},this._onClick=function(a){a=a||window.event;var b=a.target||a.srcElement,c=b;if(b){!e&&j(b,"pika-select")&&(b.onchange||(b.setAttribute("onchange","return;"),f(b,"change",n._onChange)));do if(j(c,"pika-single")||c===n.options.trigger)return;while(c=c.parentNode);n.visible&&b!==n.options.trigger&&c!==n.options.trigger&&n.hide()}};var s=this.config(i);this.el=document.createElement("div"),this.el.className="pika-single"+(s.isRTL?" is-rtl":"")+(s.theme?" "+s.theme:""),f(this.el,"mousedown",this._onMouseDown,!0),f(this.el,"touchend",this._onMouseDown,!0),f(this.el,"change",this._onChange),s.field&&(s.container?s.container.appendChild(this.el):s.bound?document.body.appendChild(this.el):s.field.parentNode.insertBefore(this.el,s.field.nextSibling),f(s.field,"change",this._onInputChange),s.defaultDate||(A&&s.field.value?s.defaultDate=moment(s.field.value,s.format).toDate():s.defaultDate=new Date(Date.parse(s.field.value)),s.setDefaultDate=!0));var w=s.defaultDate;c(w)?s.setDefaultDate?this.setDate(w,!0):this.gotoDate(w):this.gotoDate(new Date),s.bound?(this.hide(),this.el.className+=" is-bound",f(s.trigger,"click",this._onInputClick),f(s.trigger,"focus",this._onInputFocus),f(s.trigger,"blur",this._onInputBlur)):this.show()};B.defaults={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},window.Pikaday2=B}();